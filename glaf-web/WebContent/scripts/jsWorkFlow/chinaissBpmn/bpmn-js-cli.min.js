/*! bpmn-js-cli - bpmn-js-cli v0.15.0 | (c) 2014, 2015 camunda Services GmbH | bpmn.io/license */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.bpmnJsCli=t()}}(function(){return function t(n,e,r){function o(u,c){if(!e[u]){if(!n[u]){var a="function"==typeof require&&require;if(!c&&a)return a(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var f=e[u]={exports:{}};n[u][0].call(f.exports,function(t){var e=n[u][1][t];return o(e||t)},f,f.exports,t,n,e,r)}return e[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,n,e){"use strict";function r(t){return Array.prototype.slice.call(t)}function o(t){return function(n,e){return{name:n,parse:function(n){return t(n,e||{})}}}}function i(){return function(t,n){if(s(t)&&(t=t.join(" ")),""===t||t)return t;if(n.defaultValue)return n.defaultValue;throw new Error("no value given")}}function u(){return function(t,n){if(t)return t&&"false"!==t;if(n.defaultValue)return n.defaultValue;if(!n.optional)throw new Error("no value given")}}function c(){return function(t,n){if(0===t||t)return f(t)?t:parseFloat(t,10);if(n.defaultValue)return n.defaultValue;throw new Error("no value given")}}function a(t,n){this._commands={},this._params={},this._injector=n,this._registerParsers(),this._registerCommands(),this._bind(t)}var s=t(39),f=t(42),p=t(44),l=t(40),m=t(20);a.$inject=["config","injector"],n.exports=a,a.prototype={},a.prototype._bind=function(t){t.cli&&t.cli.bindTo&&(console.info("bpmn-js-cli is available via window."+t.cli.bindTo),window[t.cli.bindTo]=this)},a.prototype._registerParser=function(t,n){var e=this._injector.invoke(n);if(!l(e))throw new Error("parser must be a Function<String, Object> -> Object");this._params[t]=o(e)},a.prototype._registerCommand=function(t,n){var e=l(n)?this._injector.invoke(n):n;e.args=e.args||[],this._commands[t]=e;var o=this;this[t]=function(){var n=r(arguments);return n.unshift(t),o.exec.apply(o,n)}},a.prototype._registerParsers=function(){this._registerParser("string",i),this._registerParser("number",c),this._registerParser("bool",u)},a.prototype._registerCommands=function(){var t=this;this._registerCommand("help",{exec:function(){var n="available commands:\n";return m(t._commands,function(t,e){n+="\n\t"+e}),n}})},a.prototype.parseArguments=function(t,n){var e=[],r=n.args.length-1;return m(n.args,function(o,i){var u;u=i===r&&t.length>n.args.length?t.slice(i):t[i];try{e.push(o.parse(u))}catch(t){throw new Error("could not parse <"+o.name+">: "+t.message)}}),e},a.prototype.exec=function(){var t=[];r(arguments).forEach(function(n){p(n)?t=t.concat(n.split(/\s+/)):t.push(n)});var n=t.shift(),e=this._commands[n];if(!e)throw new Error("no command <"+n+">, execute <commands> to get a list of available commands");var o,i;try{o=this.parseArguments(t,e),i=e.exec.apply(this,o)}catch(e){throw new Error("failed to execute <"+n+"> with args <["+t.join(", ")+"]> : "+e.message)}return i}},{20:20,39:39,40:40,42:42,44:44}],2:[function(t,n,e){"use strict";function r(t,n){return{args:[t.shape("source"),t.string("type"),t.point("delta",{defaultValue:{x:200,y:0}})],exec:function(t,e,r){var o={x:t.x+t.width/2+r.x,y:t.y+t.height/2+r.y};return n.appendShape(t,{type:e},o).id}}}r.$inject=["cli._params","modeling"],n.exports=r},{}],3:[function(t,n,e){"use strict";function r(t,n){return{args:[t.shape("source"),t.shape("target"),t.string("type"),t.shape("parent",{optional:!0})],exec:function(t,e,r,o){return n.createConnection(t,e,{type:r},o||t.parent).id}}}r.$inject=["cli._params","modeling"],n.exports=r},{}],4:[function(t,n,e){"use strict";function r(t,n){return{args:[t.string("type"),t.point("position"),t.shape("parent"),t.bool("isAttach",{optional:!0})],exec:function(t,e,r,o){return n.createShape({type:t},e,r,o).id}}}r.$inject=["cli._params","modeling"],n.exports=r},{}],5:[function(t,n,e){"use strict";function r(t){return{args:[t.element("element")],exec:function(t){return t}}}r.$inject=["cli._params"],n.exports=r},{}],6:[function(t,n,e){"use strict";function r(t,n){return{exec:function(){function t(){return!0}function e(t){return t.id}return n.filter(t).map(e)}}}r.$inject=["cli._params","elementRegistry"],n.exports=r},{}],7:[function(t,n,e){"use strict";function r(t,n){return{args:[t.shapes("shapes"),t.point("delta"),t.shape("newParent",{optional:!0}),t.bool("isAttach",{optional:!0})],exec:function(t,e,r,o){return n.moveElements(t,e,r,o),t}}}r.$inject=["cli._params","modeling"],n.exports=r},{}],8:[function(t,n,e){"use strict";function r(t){return{exec:function(){t.redo()}}}r.$inject=["commandStack"],n.exports=r},{}],9:[function(t,n,e){"use strict";function r(t,n){return{args:[t.element("connection")],exec:function(t){return n.removeConnection(t)}}}r.$inject=["cli._params","modeling"],n.exports=r},{}],10:[function(t,n,e){"use strict";function r(t,n){return{args:[t.shape("shape")],exec:function(t){return n.removeShape(t)}}}r.$inject=["cli._params","modeling"],n.exports=r},{}],11:[function(t,n,e){"use strict";function r(t,n){return{args:[t.string("format")],exec:function(t){if("svg"!==t){if("bpmn"===t)return n.saveXML(function(t,n){t?console.error(t):console.info(n)});throw new Error("unknown format, <svg> and <bpmn> are available")}n.saveSVG(function(t,n){t?console.error(t):console.info(n)})}}}r.$inject=["cli._params","bpmnjs"],n.exports=r},{}],12:[function(t,n,e){"use strict";function r(t,n){return{args:[t.element("element"),t.string("newLabel")],exec:function(t,e){return n.updateLabel(t,e),t}}}r.$inject=["cli._params","modeling"],n.exports=r},{}],13:[function(t,n,e){"use strict";function r(t){return{exec:function(){t.undo()}}}r.$inject=["commandStack"],n.exports=r},{}],14:[function(t,n,e){n.exports={__init__:["cliInitializer"],cli:["type",t(1)],cliInitializer:["type",t(15)]}},{1:1,15:15}],15:[function(t,n,e){"use strict";function r(n){n._registerParser("point",t(17)),n._registerParser("element",t(16)),n._registerParser("shape",t(18)),n._registerParser("shapes",t(19)),n._registerCommand("append",t(2)),n._registerCommand("connect",t(3)),n._registerCommand("create",t(4)),n._registerCommand("element",t(5)),n._registerCommand("elements",t(6)),n._registerCommand("move",t(7)),n._registerCommand("redo",t(8)),n._registerCommand("save",t(11)),n._registerCommand("setLabel",t(12)),n._registerCommand("undo",t(13)),n._registerCommand("removeShape",t(10)),n._registerCommand("removeConnection",t(9))}r.$inject=["cli"],n.exports=r},{10:10,11:11,12:12,13:13,16:16,17:17,18:18,19:19,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9}],16:[function(t,n,e){"use strict";function r(t){return function(n,e){if(o(n))return n;var r=t.get(n);if(!r){if(e.optional)return null;throw n?new Error("element with id <"+n+"> does not exist"):new Error("argument required")}return r}}var o=t(43);r.$inject=["elementRegistry"],n.exports=r},{43:43}],17:[function(t,n,e){"use strict";function r(){return function(t,n){if(o(t))return t;if(!t&&n.defaultValue)return n.defaultValue;var e=t.split(/,/);if(2!==e.length)throw new Error("expected delta to match (\\d*,\\d*)");return{x:parseInt(e[0],10)||0,y:parseInt(e[1],10)||0}}}var o=t(43);n.exports=r},{43:43}],18:[function(t,n,e){"use strict";function r(t){return function(n,e){if(o(n))return n;var r=t.get(n);if(!r){if(e.optional)return null;throw n?new Error("element with id <"+n+"> does not exist"):new Error("argument required")}if(r.waypoints)throw new Error("element <"+n+"> is a connection");return r}}var o=t(43);r.$inject=["elementRegistry"],n.exports=r},{43:43}],19:[function(t,n,e){"use strict";function r(t){return function(n,e){return u(n)?n=n.split(","):o(n)||(n=[n]),n.map(function(n){if(i(n))return n;var r=t.get(n);if(!r){if(e.optional)return null;throw n?new Error("element with id <"+n+"> does not exist"):new Error("argument required")}if(r.waypoints)throw new Error("element <"+n+"> is a connection");return r}).filter(function(t){return t})}}var o=t(39),i=t(43),u=t(44);r.$inject=["elementRegistry"],n.exports=r},{39:39,43:43,44:44}],20:[function(t,n,e){var r=t(21),o=t(22),i=t(29),u=i(r,o);n.exports=u},{21:21,22:22,29:29}],21:[function(t,n,e){function r(t,n){for(var e=-1,r=t.length;++e<r&&!1!==n(t[e],e,t););return t}n.exports=r},{}],22:[function(t,n,e){var r=t(24),o=t(27),i=o(r);n.exports=i},{24:24,27:27}],23:[function(t,n,e){var r=t(28),o=r();n.exports=o},{28:28}],24:[function(t,n,e){function r(t,n){return o(t,n,i)}var o=t(23),i=t(45);n.exports=r},{23:23,45:45}],25:[function(t,n,e){function r(t){return function(n){return null==n?void 0:n[t]}}n.exports=r},{}],26:[function(t,n,e){function r(t,n,e){if("function"!=typeof t)return o;if(void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,o){return t.call(n,e,r,o)};case 4:return function(e,r,o,i){return t.call(n,e,r,o,i)};case 5:return function(e,r,o,i,u){return t.call(n,e,r,o,i,u)}}return function(){return t.apply(n,arguments)}}var o=t(47);n.exports=r},{47:47}],27:[function(t,n,e){function r(t,n){return function(e,r){var c=e?o(e):0;if(!i(c))return t(e,r);for(var a=n?c:-1,s=u(e);(n?a--:++a<c)&&!1!==r(s[a],a,s););return e}}var o=t(30),i=t(34),u=t(37);n.exports=r},{30:30,34:34,37:37}],28:[function(t,n,e){function r(t){return function(n,e,r){for(var i=o(n),u=r(n),c=u.length,a=t?c:-1;t?a--:++a<c;){var s=u[a];if(!1===e(i[s],s,i))break}return n}}var o=t(37);n.exports=r},{37:37}],29:[function(t,n,e){function r(t,n){return function(e,r,u){return"function"==typeof r&&void 0===u&&i(e)?t(e,r):n(e,o(r,u,3))}}var o=t(26),i=t(39);n.exports=r},{26:26,39:39}],30:[function(t,n,e){var r=t(25),o=r("length");n.exports=o},{25:25}],31:[function(t,n,e){function r(t,n){var e=null==t?void 0:t[n];return o(e)?e:void 0}var o=t(41);n.exports=r},{41:41}],32:[function(t,n,e){function r(t){return null!=t&&i(o(t))}var o=t(30),i=t(34);n.exports=r},{30:30,34:34}],33:[function(t,n,e){function r(t,n){return t="number"==typeof t||o.test(t)?+t:-1,n=null==n?i:n,t>-1&&t%1==0&&t<n}var o=/^\d+$/,i=9007199254740991;n.exports=r},{}],34:[function(t,n,e){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}var o=9007199254740991;n.exports=r},{}],35:[function(t,n,e){function r(t){return!!t&&"object"==typeof t}n.exports=r},{}],36:[function(t,n,e){function r(t){for(var n=a(t),e=n.length,r=e&&t.length,s=!!r&&c(r)&&(i(t)||o(t)),p=-1,l=[];++p<e;){var m=n[p];(s&&u(m,r)||f.call(t,m))&&l.push(m)}return l}var o=t(38),i=t(39),u=t(33),c=t(34),a=t(46),s=Object.prototype,f=s.hasOwnProperty;n.exports=r},{33:33,34:34,38:38,39:39,46:46}],37:[function(t,n,e){function r(t){return o(t)?t:Object(t)}var o=t(43);n.exports=r},{43:43}],38:[function(t,n,e){function r(t){return i(t)&&o(t)&&c.call(t,"callee")&&!a.call(t,"callee")}var o=t(32),i=t(35),u=Object.prototype,c=u.hasOwnProperty,a=u.propertyIsEnumerable;n.exports=r},{32:32,35:35}],39:[function(t,n,e){var r=t(31),o=t(34),i=t(35),u=Object.prototype,c=u.toString,a=r(Array,"isArray"),s=a||function(t){return i(t)&&o(t.length)&&"[object Array]"==c.call(t)};n.exports=s},{31:31,34:34,35:35}],40:[function(t,n,e){function r(t){return o(t)&&c.call(t)==i}var o=t(43),i="[object Function]",u=Object.prototype,c=u.toString;n.exports=r},{43:43}],41:[function(t,n,e){function r(t){return null!=t&&(o(t)?f.test(a.call(t)):i(t)&&u.test(t))}var o=t(40),i=t(35),u=/^\[object .+?Constructor\]$/,c=Object.prototype,a=Function.prototype.toString,s=c.hasOwnProperty,f=RegExp("^"+a.call(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=r},{35:35,40:40}],42:[function(t,n,e){function r(t){return"number"==typeof t||o(t)&&c.call(t)==i}var o=t(35),i="[object Number]",u=Object.prototype,c=u.toString;n.exports=r},{35:35}],43:[function(t,n,e){function r(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}n.exports=r},{}],44:[function(t,n,e){function r(t){return"string"==typeof t||o(t)&&c.call(t)==i}var o=t(35),i="[object String]",u=Object.prototype,c=u.toString;n.exports=r},{35:35}],45:[function(t,n,e){var r=t(31),o=t(32),i=t(43),u=t(36),c=r(Object,"keys"),a=c?function(t){var n=null==t?void 0:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&o(t)?u(t):i(t)?c(t):[]}:u;n.exports=a},{31:31,32:32,36:36,43:43}],46:[function(t,n,e){function r(t){if(null==t)return[];a(t)||(t=Object(t));var n=t.length;n=n&&c(n)&&(i(t)||o(t))&&n||0;for(var e=t.constructor,r=-1,s="function"==typeof e&&e.prototype===t,p=Array(n),l=n>0;++r<n;)p[r]=r+"";for(var m in t)l&&u(m,n)||"constructor"==m&&(s||!f.call(t,m))||p.push(m);return p}var o=t(38),i=t(39),u=t(33),c=t(34),a=t(43),s=Object.prototype,f=s.hasOwnProperty;n.exports=r},{33:33,34:34,38:38,39:39,43:43}],47:[function(t,n,e){function r(t){return t}n.exports=r},{}]},{},[14])(14)});